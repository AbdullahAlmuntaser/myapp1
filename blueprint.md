# مخطط المشروع (Blueprint)

## نظرة عامة على المشروع

هذا المشروع عبارة عن نظام لإدارة الطلاب تم تطويره باستخدام Flutter ويهدف إلى توفير واجهة سهلة الاستخدام لإدارة معلومات الطلاب، الفصول الدراسية، الدرجات، الحضور، والجداول الزمنية. يتضمن التطبيق ميزات لتسجيل الدخول، لوحة تحكم شاملة، ونظام تبويب لتنظيم البيانات.

## التصميم والميزات المنفذة

*   **تطبيق Material Design 3 المتكامل:**
    *   **الألوان:** استخدام `ColorScheme.fromSeed` لإنشاء لوحة ألوان متناسقة، وتطبيقها بشكل منهجي على جميع المكونات.
    *   **الخطوط (Typography):** دمج `google_fonts` لتحديد خطوط مخصصة وواضحة، مع تطبيق `TextTheme` لضمان اتساق أنماط النصوص (مثل `displayLarge`, `titleMedium`, `bodySmall`).
    *   **تخصيص المكونات:** استخدام `ThemeData` لتخصيص مظهر الأزرار (`ElevatedButtonThemeData`)، أشرطة التطبيق (`AppBarTheme`)، وغيرها من مكونات Material لإنشاء هوية بصرية فريدة.
    *   **الأيقونات والصور:** استخدام أيقونات معبرة وصور ذات صلة (مع توفير صور مؤقتة إذا لزم الأمر).
*   **الاستجابة والتكيف (Responsiveness):**
    *   تكييف تخطيطات الشاشات المختلفة (خاصة لوحات القيادة والجداول) لتبدو جيدة على أحجام الشاشات المختلفة (الهواتف المحمولة، الأجهزة اللوحية، الويب).
    *   استخدام `MediaQuery` و `LayoutBuilder` لتصميم واجهات مرنة.
*   **الحركات الانتقالية والجاذبية:**
    *   إضافة حركات انتقالية مخصصة بين الشاشات لتحسين التجربة البصرية.
*   **إدارة الحالة (State Management):**
    *   استخدام `provider` لإدارة الحالة على مستوى التطبيق.
    *   فئات `ChangeNotifier` مخصصة (مثل `StudentProvider`, `ClassProvider`, `SubjectProvider`, `TeacherProvider`, `AttendanceProvider`, `GradeProvider`, `TimetableProvider`, `ThemeProvider`) لإدارة البيانات والمنطق الخاص بكل جزء.
*   **شاشات رئيسية:**
    *   `LoginScreen`: شاشة تسجيل الدخول للمستخدمين.
    *   `RegisterScreen`: شاشة تسجيل مستخدمين جدد.
    *   `DashboardScreen`: لوحة تحكم رئيسية مع نظام تبويبات (`BottomNavigationBar`) للتنقل بين الأقسام.
    *   `ParentPortalScreen`: شاشة خاصة بأولياء الأمور لعرض معلومات الطلاب.
    *   `StudentDetailForParentScreen`: تفاصيل الطالب لولي الأمر.
*   **علامات التبويب في لوحة التحكم (Dashboard Tabs):**
    *   `StudentsTab`: عرض وإدارة الطلاب.
    *   `ClassesTab`: عرض وإدارة الفصول الدراسية.
    *   `SubjectsTab`: عرض وإدارة المواد.
    *   `TeachersTab`: عرض وإدارة المعلمين.
    *   `GradesOverviewTab`: نظرة عامة على الدرجات.
    *   `GradesBulkEntryTab`: إدخال الدرجات بشكل مجمع.
    *   `ReportsTab`: عرض التقارير.
    *   `SettingsTab`: إعدادات التطبيق (يتضمن معلومات حول التطبيق).
*   **شاشات الإضافة والتعديل:**
    *   `AddEditStudentScreen`
    *   `AddEditClassScreen`
    *   `AddEditSubjectScreen`
    *   `AddEditTeacherScreen`
    *   `AddEditTimetableScreen`
    *   `AddEditGradeDialog` (كحوار ضمن شاشة الدرجات).
*   **ميزات أخرى:**
    *   `AttendanceScreen`: شاشة لتسجيل الحضور.
    *   `GradesScreen`: شاشة تفاصيل الدرجات.
    *   `TimetableScreen`: شاشة عرض الجدول الزمني.
    *   `LocalAuthService`: لخدمات المصادقة المحلية (مثل بصمة الإصبع/الوجه).
    *   تكامل قاعدة البيانات المحلية (SQLite) باستخدام `database_helper.dart`.
    *   نماذج بيانات (Models) منفصلة لكل كيان (`StudentModel`, `ClassModel`, `SubjectModel`, `TeacherModel`, `AttendanceModel`, `GradeModel`, `TimetableModel`, `UserModel`).
    *   اختبارات الوحدة (Unit Tests) لبعض المزودين والشاشات.

## الخطة الحالية: معالجة مشكلة معاينة الويب الفارغة وعدم التعرف على جهاز الويب

**الهدف:** تمكين تشغيل التطبيق على الويب وحل مشكلة عدم ظهور الواجهة في معاينة الويب، والتي قد تكون مرتبطة بمشكلات أعمق تؤثر على التطبيق بشكل عام.

**الخطوات:**

1.  **تمكين دعم الويب في Flutter:**
    *   الأمر: `flutter config --enable-web`
    *   الهدف: التأكد من أن Flutter مهيأ لبناء وتشغيل تطبيقات الويب في بيئة العمل الحالية.
2.  **التحقق من أجهزة الويب المتاحة:**
    *   الأمر: `flutter devices`
    *   الهدف: التأكد من أن Flutter يتعرف الآن على جهاز ويب (مثل `Chrome` أو `Edge` أو `Web Server`) بعد تمكين دعم الويب.
3.  **تشغيل التطبيق على الويب في وضع Debug:**
    *   الأمر: `flutter run -d web` (أو `flutter run -d chrome` إذا كان متوفراً)
    *   الهدف: بدء تشغيل التطبيق في وضع Debug على الويب ومراقبة Debug Console و Terminal بحثاً عن أي أخطاء أو تحذيرات runtime.
4.  **تحليل مخرجات Debug Console:**
    *   الهدف: تحديد السبب الجذري لعدم ظهور الواجهة في معاينة الويب بناءً على الأخطاء أو التحذيرات التي تظهر أثناء التشغيل.

سأبدأ الآن بتنفيذ الأمر الأول لتمكين دعم الويب.
